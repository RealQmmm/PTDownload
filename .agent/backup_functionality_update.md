# 备份/导出功能更新说明

## 更新概览

根据用户请求，检查了数据库结构与导出/导入功能的一致性，发现并补全了以下缺失的表。

### 新增支持的表

1.  **`download_paths`** (新增表)
    *   **描述**: 存储预定义的下载路径配置。
    *   **状态**: 已添加到导出和导入列表。

2.  **`task_logs`** (运行日志)
    *   **描述**: 系统运行和任务执行的详细日志。
    *   **状态**: 仅支持导入（保持兼容性），**导出功能已移除**（应用户要求，避免文件过大）。

### 完整备份列表

现在，系统备份 (`/api/settings/export`) 将包含以下所有数据表：

1.  `sites` (站点配置)
2.  `clients` (下载器配置)
3.  `tasks` (任务配置)
4.  `rss_sources` (RSS源)
5.  `settings` (系统设置)
6.  `daily_stats` (每日流量统计)
7.  `task_history` (任务下载历史)
8.  `stats_checkpoint` (统计断点)
9.  `site_daily_stats` (站点每日统计热力图)
10. `users` (用户数据)
11. `series_subscriptions` (追剧订阅)
12. `download_paths` (下载路径 - **新增**)

### 注意事项

*   **日志大小**: `task_logs` 表可能会随时间变得很大。如果导出文件过大，建议在导出前通过系统设置中的"维护"功能清理旧日志。
*   **导入覆盖**: 导入操作会**清除当前数据库中所有上述表的数据**，并替换为备份文件中的数据。请谨慎操作。

## 代码修改记录

*   **文件**: `/server/src/routes/settings.js`
*   **修改**: 更新了 `export` (GET) 和 `import` (POST) 路由中的 `tables` 数组。
